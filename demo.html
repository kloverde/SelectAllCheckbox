<!DOCTYPE html>

<!--
   SelectAllCheckbox
   https://www.github.com/kloverde/jquery-SelectAllCheckbox

   Copyright (c) 2016 Kurtis LoVerde
   All rights reserved
-->

<html lang="en-US">
   <head>
      <meta charset="UTF-8"/>

      <title>SelectAllCheckbox Demo</title>

      <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.1.min.js"></script>
      <script type="text/javascript" src="jquery.selectallcheckbox.js"></script>

      <script type="text/javascript">
         function onChange( checkboxes, checkedState ) {
            var html = "<p>Changed:<br/>";

            for( var i = 0; i < checkboxes.length; i++ ) {
               var box = checkboxes[i];
               var line = box.attr( "id" ) + " : " + ( box.prop("checked") ? "checked" : "unchecked" ) + "<br/>";

               html += line;
            }

            html += ("</p><p>Checked state of group is: " + checkedState + "</p>");

            $( "#log" ).html( html );
         }

         $( document ).ready( function() {
            $( "#selectAllGroup1" ).selectAllCheckbox( {
               checkboxesName   : "group1",
               onChangeCallback : onChange
            } );

            $( "#selectAllGroup2" ).selectAllCheckbox( {
               checkboxesName   : "group2",
               onChangeCallback : onChange,
               useIndeterminate : false
            } );

            $( "#selectAllGroup3" ).selectAllCheckbox( {
                checkboxesName   : "group3",
                onChangeCallback : onChange
            } );

            $( "#btnChangeByScript" ).click( function() {
               var selector = "#group3_a";

               $( selector ).prop( "checked", !$(selector).prop("checked") );
               $( selector ).trigger( "change" );
            } );
         } );
      </script>

      <style type="text/css">
         label {
            display: block;
         }

         .selectAllLabel {
            font-size: larger;
            font-weight: bold;
         }

         #container {
            width: 400px;
         }

         #container, #checkboxes, #log {
            display: table-cell;
            min-width: 250px;
            vertical-align: middle;
            padding: 10px;
         }

         #checkboxes, #log {
            border: 1px solid #000000;
         }
      </style>
   </head>

   <body>
      <form name="myForm">
         <div id="container">
            <div id="checkboxes">
               <h3>Group 1 (indeterminate)</h3>

               <label class="selectAllLabel">
                  <input type="checkbox" id="selectAllGroup1"/>
                  Select All
               </label>

               <label>
                  <input type="checkbox" id="group1_a" name="group1" value="1a"/>
                  Choice A
               </label>

               <label>
                  <input type="checkbox" id="group1_b" name="group1" value="1b"/>
                  Choice B
               </label>

               <label>
                  <input type="checkbox" id="group1_c" name="group1" value="1c"/>
                  Choice C
               </label>

               <h3>Group 2 (<em>de</em>terminate)</h3>

               <label class="selectAllLabel">
                  <input type="checkbox" id="selectAllGroup2"/>
                  Select All
               </label>

               <label>
                  <input type="checkbox" id="group2_a" name="group2" value="2a"/>
                  Choice A
               </label>

               <label>
                  <input type="checkbox" id="group2_b" name="group2" value="2b"/>
                  Choice B
               </label>

               <label>
                  <input type="checkbox" id="group2_c" name="group2" value="2c"/>
                  Choice C
               </label>

               <h3>Group 3 (change by script)</h3>

               <label class="selectAllLabel">
                  <input type="checkbox" id="selectAllGroup3"/>
                  Select All
               </label>

               <label>
                  <input type="checkbox" id="group3_a" name="group3" value="3a"/>
                  Choice A
               </label>

               <label>
                  <input type="checkbox" id="group3_b" name="group3" value="3b"/>
                  Choice B
               </label>

               <label>
                  <input type="checkbox" id="group3_c" name="group3" value="3c"/>
                  Choice C
               </label>

               <input type="button" id="btnChangeByScript" value="Change 'Choice A' box by script"/>
            </div>

            <div id="log">
               Click something
            </div>
         </div>
      </form>
   </body>
</html>
